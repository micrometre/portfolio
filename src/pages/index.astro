---
import Layout from '../layouts/Layout.astro'
import Navigation from '../components/Navigation'
import Hero from '../components/Hero'
import Skills from '../components/Skills'
import ArticlesPreview from '../components/ArticlesPreview'
import Contact from '../components/Contact'
import Footer from '../components/Footer'
import { getCollection } from 'astro:content'

const articles = await getCollection('articles')
const sortedArticles = articles.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
---

<Layout title="Henok Wehibe - Full-Stack Developer">
	<Navigation client:load />
	<main>
		<Hero client:visible />
		<Skills client:visible />
		<ArticlesPreview articles={sortedArticles} client:idle />
		<Contact client:visible />
	</main>
	<Footer client:idle />
</Layout>
